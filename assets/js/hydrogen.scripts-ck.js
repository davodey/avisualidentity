(function(e,t,n){function r(e){if(e&&"img"==e.tagName.toLowerCase()){if("naturalWidth"in e&&"naturalHeight"in e)return e.naturalWidth/e.naturalHeight;var t=new Image;t.src=e.src;return t.width/t.height}}(function(){var n=function(t,n){this.element=e(t);return this.init(n)},i=0;n.prototype={defaults:{selector:"li",minRowHeight:240,margin:0,justifyLastRow:!0,mainClass:"justified-grids",lastColumnClass:"last-col",lastRowClass:"last-row"},imageData:[],init:function(n){var s=this,o,u;s.eventNamespace=".justified"+i++;s.options=e.extend(!0,{},s.defaults,n);s.items=s.element.addClass(s.options.mainClass).children(s.options.selector).css({marginTop:s.options.margin,marginLeft:s.options.margin});s.imageData=s.items.map(function(){o=e(this).find("img");return!o||!o.length||!(u=r(o[0]))?0:{el:o[0],ratio:u,calculatedWidth:u*s.options.minRowHeight}});e(t).on("resize"+s.eventNamespace+" orientationchange"+s.eventNamespace,function(){s.resizeTimeout&&clearTimeout(s.resizeTimeout);s.resizeTimeout=setTimeout(function(){s.refresh()},50)});s.refresh()},destroy:function(){this.element.removeClass(this.options.mainClass);this.items.css({marginTop:"",marginLeft:""}).removeClass([this.options.lastRowClass,this.options.lastColumnClass].join(" "));e.each(this.imageData,function(){this.el.style.width="";this.el.style.height=""});this.resizeTimeout&&clearTimeout(this.resizeTimeout);e(t).off(this.eventNamespace)},refresh:function(){var e=this,t,n=this.element.width(),r=0,i=[],s=0;e.items.removeClass([e.options.lastRowClass,e.options.lastColumnClass].join(" ")).each(function(o){if(t=e.imageData[o]){if(r+e.options.margin+t.calculatedWidth>n){e._processRow(i,n,s);i=[];r=0;s=0}i.push(t);s+=t.ratio;r+=e.options.margin+t.calculatedWidth}});i.length&&this._processRow(i,this.options.justifyLastRow?n:n-r,s,!0)},_processRow:function(t,n,r,i){if(!t||!t.length)return;var s=this;height=(n-(t.length+1)*s.options.margin)/r;e(t).each(function(){e(this.el).css({width:height*this.ratio,height:height});i&&e(this.el).closest(s.options.selector).addClass(s.options.lastRowClass)});e(t.pop().el).closest(s.options.selector).addClass(s.options.lastColumnClass)}};e.fn.justifiedGrids=function(t){return this.each(function(){var r=e.data(this,"justifiedGrids"),i=typeof t=="object"&&t;if(!r){e.data(this,"justifiedGrids",r=new n(this,i));parallaxInstances.push(r)}typeof t=="string"&&r[t]()})}})();(function(){var t=["flipInX","flipInY","fadeInUp","fadeInDown","fadeInLeft","fadeInRight","fadeInUpBig","fadeInDownBig","fadeInLeftBig","fadeInRightBig","slideInDown","slideInLeft","slideInRight","bounceIn","bounceInUp","bounceInDown","bounceInLeft","bounceInRight","rotateIn","rotateInUpLeft","rotateInDownLeft","rotateInUpRight","rotateInDownRight"],n=function(t,n){this.element=e(t);return this.init(n)};n.prototype={defaults:{waypointOffset:"75%",animationName:"fadeIn",animationDuration:800,animationChainDuration:800,animationChainDelay:"distribute"},init:function(t){this.options=e.extend(!0,{},this.defaults,t);this.targets=this.element.find("[data-animation-name]");if(this.targets&&this.targets.length){this.targets.css("visibility","hidden").on("webkitAnimationEnd oanimationend msAnimationEnd animationend",this._onAnimationEnd);e.fn.waypoint&&this.element.waypoint(e.proxy(this._waypointCallback,this),{offset:this.options.waypointOffset,triggerOnce:!0})}},_onAnimationEnd:function(){e(this).css({visibility:"",animation:""})},_waypointCallback:function(){var n=this,r="distribute"==n.options.animationChainDelay?Math.ceil(n.options.animationChainDuration/n.targets.length):n.options.animationChainDelay;n.targets.each(function(i){var s=e(this).data(),o=s.animationDelay||i*r,u=s.animationDuration||n.options.animationDuration,a=(t.indexOf(s.animationName)<0?n.options:s).animationName;e(this).css({visibility:"","animation-name":a,"animation-delay":o+"ms","animation-duration":u+"ms","animation-fill-mode":"both"})})}};e.fn.youxiAnimate=function(t){return this.each(function(){new n(this,e.extend(!0,t,e(this).data()))})}})()})(jQuery,window,document);